<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="dev/css/style.css">
</head>
<body>
<div class="m_header">
    <div class="top">
        <div class="wrap">
            <span class="fl">4399手机游戏网</span>
            <div class="fr clearfix">
                <a href="#">退出</a>
                <a href="#">消息</a>
                <a href="#">Username</a>
            </div>
        </div>
    </div>
    <div class="nav">
        <div class="wrap">
            <a href="" class="logo"></a>
            <div class="box clearfix">
                <a href="#" class="stream"><i class="icon2"></i> 帐户流水</a>
                <a href="#" class="plan active"><i class="icon1"></i> 广告计划</a>
            </div>
        </div>
    </div>
</div>
<div class="m_content">
    <div class="m_title">
        添加计划
        <div class="m_bk_nav">
            <a href="">广告计划</a><span> › </span><a href="">添加计划</a>
        </div>
    </div>
    <div class="m_plan">
        <div class="clearfix">
            <ul class="view fl">
                <li>
                    <span>广告名称：<i>(不能重名 )</i>  </span> <br>
                    <input type="text" name="">
                </li>
                <li>
                    <span>游戏名称： </span> <br>
                    <select name="" id="">
                        <option value="请选择游戏">请选择游戏</option>
                    </select>
                </li>
                <li class="clearfix">
                    <div class="fl day">
                        <span>预算类型：</span> <br>
                        <select name="">
                            <option value="每天">每天</option>
                        </select>
                    </div>
                    <div class="fr count">
                        <span>预算(￥)：</span> <br>
                        <input type="text" class="j-budget" value="此次计划投放的总预算">
                    </div>
                </li>
                <li>
                    <span>竞价(￥)：</span> <br>
                    <input type="text" class="j-bidding" value="游戏每次被下载的费用（区间0.5-50元）">
                </li>
            </ul>
            <div class="f_date fr">
                <span>推广时段（24小时）：</span> <br>
                <table class="j-table">
                    <tr>
                        <th width="46">
                        </th>
                        <th>
                            0
                        </th>
                        <th>
                            1
                        </th>
                        <th>
                            2
                        </th>
                        <th>
                            3
                        </th>
                        <th>
                            4
                        </th>
                        <th>
                            5
                        </th>
                        <th>
                            6
                        </th>
                        <th>
                            7
                        </th>
                        <th>
                            8
                        </th>
                        <th>
                            9
                        </th>
                        <th>
                            10
                        </th>
                        <th>
                            11
                        </th>
                        <th>
                            12
                        </th>
                        <th>
                            13
                        </th>
                        <th>
                            14
                        </th>
                        <th>
                            15
                        </th>
                        <th>
                            16
                        </th>
                        <th>
                            17
                        </th>
                        <th>
                            18
                        </th>
                        <th>
                            19
                        </th>
                        <th>
                            20
                        </th>
                        <th>
                            21
                        </th>
                        <th>
                            22
                        </th>
                        <th>
                            23
                        </th>
                    </tr>
                    <tr>
                        <td class="col">周一</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="col">周二</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="col">周三</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="col">周四</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="col">周五</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="col">周六</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr>
                        <td class="col">周日</td>
                        <td class="active"></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
                <div class="f_select">
                    <span>tips：可以通过点击标题选择整行或整列</span>
                    <span><i></i>表示已选中时段</span>
                    <div>
                        <a href="#">重置</a>
                        <a href="#">周末</a>
                        <a href="#">工作日</a>
                        <a href="#">全选</a>
                    </div>
                </div>
            </div>
        </div>
        <a href="#" class="f_save">保存</a>
    </div>
</div>
<div class="footer">
    <p>
        <a href="">联系我们</a>  <i>|</i> <a href="">关于我们</a>     <i>|</i> <a href="">人才招聘</a>     <i>|</i> <a href="">4399小游戏</a>        <i>|</i>  <a href="">4399手机游戏网</a>      <i>|</i>  <a href="">4399游戏盒</a>        <i>|</i>  <a href="">4399安卓游戏市场</a>   <br>
        闽网文[2012]0810-015号   <i>|</i>   新出网证(闽)字06号    <i>|</i>   ICP证闽B2-20040099 <br>
        Copyright©2004 - 2015 4399.com All Rights Reserved.   四三九九网络股份有限公司 版权所有
    </p>
</div>
</body>
</html>
<script src="javascript/jquery-1.11.1.js"></script>
<script>
    var addPlan = {
        init : function(){
            this.result = {};
            this.elem();
            this.inputDefault();
            this.tableSelect();
        },
        elem : function(){
            this.$budget = $('.j-budget'),
            this.$bidding  = $('.j-bidding ');
            this.$table = $('.j-table');
            this.$td = this.$table.find('td');
        },
        tableSelect : function(){ /* 表格的选择操作 */
            var This = this ;
            this.$td.on('click',function(){
                $(this).toggleClass('active');

                if($(this).hasClass('active')){
                    var _index = $(this).index('td');
                    This.convert(_index);
                    console.log(This.result);
                }
            });
        },
        convert : function(num){
            var hour = num % 24;
            var weekday = Math.floor(num / 24);

            if(this.result[weekday]){
                this.result[weekday] = [];
            }else {
                this.result[weekday].push(hour);
            }

        },
        inputDefault : function(){
            var objArr = [ this.$budget, this.$bidding];
            var text = ['此次计划投放的总预算','游戏每次被下载的费用（区间0.5-50元）'];

            for(var i = 0,len = objArr.length; i<len; i++ ){
                this.setInpDefault(objArr[i],text[i]);
            }
        },
        setInpDefault : function(obj,text){  /* 设置默认值 */
            obj.focus(function(){$(this).val('')}).blur(function(){
                var $this = $(this);
                ($this.val() === '')? $this.val(text) : null;
            });
        }
    }
    addPlan.init();

</script>
