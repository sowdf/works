<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="release/css/style.css">
    <script>
        ! function(a) {
            function b() {
                a.rem = f.getBoundingClientRect().width / 16, f.style.fontSize = a.rem + "px"
            }
            var c, d = a.navigator.appVersion.match(/iphone/gi) ? a.devicePixelRatio : 1,
                    e = 1 / d,
                    f = document.documentElement,
                    g = document.createElement("meta");
            if (a.dpr = d, a.addEventListener("resize", function() {
                        clearTimeout(c), c = setTimeout(b, 300)
                    }, !1), a.addEventListener("pageshow", function(a) {
                        a.persisted && (clearTimeout(c), c = setTimeout(b, 300))
                    }, !1), f.setAttribute("data-dpr", d), g.setAttribute("name", "viewport"), g.setAttribute("content", "initial-scale=" + e + ", maximum-scale=" + e + ", minimum-scale=" + e + ", user-scalable=no"), f.firstElementChild) f.firstElementChild.appendChild(g);
            else {
                var h = document.createElement("div");
                h.appendChild(g), document.write(h.innerHTML)
            }
            b()
        }(window);
    </script>
</head>
<body>
   <section class="m_banner">
       <a href="" class="login">登录</a>
       <a href="" class="register">注册</a>
       <div class="banner_1"></div>
       <div class="banner_2"></div>
   </section>
   <section class="m_notice" id="j-notify">

   </section>
    <section class="m_lottery">
        <ul id="j-lottery">
            <li data-prize="10盒币">
                <i class="hb"></i>
                <span>10盒币</span>
            </li>
            <li  data-prize="实物大礼">
                <i class="sw"></i>
                <span>实物大礼</span>
            </li>
            <li  data-prize="1游币">
                <i class="yb"></i>
                <span>1游币</span>
            </li>
            <li  data-prize="游戏礼包">
                <i class="sw"></i>
                <span>游戏礼包</span>
            </li>
            <li  data-prize="50盒币">
                <i class="hb"></i>
                <span>50盒币</span>
            </li>
            <li  data-prize="5游币">
                <i class="yb"></i>
                <span>5游币</span>
            </li>
        </ul>
        <a href="javascript:;" class="click" id="j-lotteryBtn">点击抽奖</a>
        <p>
            <a href="javascript:;" class="prize">我的奖品 <em></em> </a>
        </p>

    </section>
    <seciton class="m_idt">
        <h4></h4>
        <p>
            入驻游戏数达1、4、6款，可分别获得 <span>1次 </span> 抽奖机会， <br>
            每天最多可入驻2款游戏
        </p>
    </seciton>
    <section class="m_items">
        <div class="box">
            <h3>
                4399原创精品<i>|</i>    <span>匠心打造 诚意巨作！</span>
            </h3>
            <div class="item">
                <img src="./release/images/tt.png" alt="">
                <div>
                    <h4>《造梦西游》</h4>
                    <p>经典造梦,带你重走西游取经路！</p>
                    <span>已有 <i>8888</i> 人入驻</span>
                </div>
                <a href="">我要入驻</a>
            </div>
            <div class="item">
                <img src="" alt="">
                <div>
                    <h4>《造梦西游》</h4>
                    <p>经典造梦,带你重走西游取经路！</p>
                    <span>已有 <i>8888</i> 人入驻</span>
                </div>
                <a href="">我要入驻</a>
            </div>
        </div>
        <div class="box">
            <h3>
                4399原创精品<i>|</i><span>匠心打造 诚意巨作！</span>
            </h3>
            <div class="item">
                <img src="./release/images/tt.png" alt="">
                <div>
                    <h4>《造梦西游》</h4>
                    <p>经典造梦,带你重走西游取经路！</p>
                    <span>已有 <i>8888</i> 人入驻</span>
                </div>
                <a href="">我要入驻</a>
            </div>
            <div class="item">
                <img src="./release/images/tt.png" alt="">
                <div>
                    <h4>《造梦西游》</h4>
                    <p>经典造梦,带你重走西游取经路！</p>
                    <span>已有 <i>8888</i> 人入驻</span>
                </div>
                <a href="">我要入驻</a>
            </div>
        </div>
        <div class="box">
            <h3>
                4399原创精品 <i>|</i> <span>匠心打造 诚意巨作！</span>
            </h3>
            <div class="item">
                <img src="./release/images/tt.png" alt="">
                <div>
                    <h4>《造梦西游》</h4>
                    <p>经典造梦,带你重走西游取经路！</p>
                    <span>已有 <i>8888</i> 人入驻</span>
                </div>
                <a href="">我要入驻</a>
            </div>
            <div class="item">
                <img src="./release/images/tt.png" alt="">
                <div>
                    <h4>《造梦西游》</h4>
                    <p>经典造梦,带你重走西游取经路！</p>
                    <span>已有 <i>8888</i> 人入驻</span>
                </div>
                <a href="" class="z_gray">我要入驻</a>
            </div>
        </div>
    </section>
    <section class="m_desc">
        <h4></h4>
        <p>
            <i>1</i>1每个4399用户入驻游戏数达1、4、6款，可分别获
                得 <span class="red">1次</span> 抽奖机会，每天最多可入驻2款游戏；
        </p>
        <p>
            <i>2</i>在入驻成功后，在游戏里连续登录3天的 <span class="red">新注册玩</span>
            <span class="red">家</span> 即可100%获赠4399送出的  <span class="red"> 100盒币大礼包</span>  ，盒币将在活动结束后 <span class="red">7个工作日内</span> 完成发放；
        <p>
            <i>3</i>通过抽奖获得的礼包将直接给予发放，获得游币、
            盒币奖励的玩家我们将在获得结束后 <span class="red">7个工作日内</span>
        完成发放，实物奖励将在活动结束后  <span class="red">15个工作日内</span>   完成发放，逾期未填写有效收货信息的玩家则视为弃权
        </p>
        <p>
            <i>4</i>实物奖品：<span class="red">蓝牙键盘、精品枪械模型、造梦形象公仔、功夫熊猫公仔等</span> 随机送出；
        </p>
        <p>
            <i>5</i>本次活动最终解释权归 <span>4399手机游戏网</span> 所有。
        </p>
    </section>
    <seciton id="j-pop">

    </seciton>
<!--    <section class="m_pop">
        <div class="filter"></div>
        <div class="pop">
            <i class="close j-close"></i>
            <div class="success">
                <h4>入驻成功!</h4>
                <p>是否去下载游戏？</p>
                <a href="btn">去下载游戏</a>
            </div>
        </div>
    </section>-->
    <div className="myprize">
        <h3></h3>
        <div className="clearfix">
            <dl className="fl">
                <dt>奖品</dt>
                <dd>5游戏币</dd>
                <dd>10盒币</dd>
                <dd>豆娃抱枕</dd>
                <dd>火线精英复刻礼包码 <br/>
                    shjhjhjhjsasasasaa</dd>
            </dl>
            <dl className="fr">
                <dt>获得时间</dt>
                <dt>活动结束后发放
                </dt>
                <dt>活动结束后发放
                </dt>
                <dt><a href="">收件地址</a></dt>
                <dt><a href="">复制</a></dt>
            </dl>
        </div>
    </div>
</body>
</html>
<script src="js/jquery-1.11.1.js"></script>
<script src="js/react.js"></script>
<script src="js/react-dom.js"></script>
<script src="js/browser.min.js"></script>
<script type="text/babel">
    var notifyDate =[
        {
            name : 1111,
            count : 11
        },
        {
            name : 222,
            count : 22
        },
        {
            name : 3333,
            count : 33
        },
        {
            name : 34444,
            count : 444
        },
        {
            name : 55555,
            count : 55
        }
    ]
    var NotifyComponent = React.createClass({
    render : function(){
        {
        }
        return (
                <div>
                    <i></i>
                    <ul>
                        {
                            notifyDate.map(function(index,item){
                                <NotifyItemComponent key={index} {...item}/>
                            })
                        }
                    </ul>
                    ，您还剩  <em id="j-time">2次</em>  机会
                </div>
        );
    }
});
var NotifyItemComponent = React.createClass({
    render : function(){
        return (
                <li>
                    恭喜 <em> {this.props.name} </em>获得 <em>{this.props.count}盒币</em>
                </li>
        );
    }
});
ReactDOM.render(
        <NotifyComponent {...notifyDate}/>,
        document.getElementById('j-notify')
);
    var GetSwComponent = React.createClass({
        render : function(){
            return (
                    <div className="swprize">
                        <h4>
                            恭喜您抽到 <i>豆娃抱枕</i>
                        </h4>
                        <p>请正确填写您的奖品收件信息</p>
                        <a href="">填写收件信息</a>
                        <div>
                            活动结束后15个工作日发放。
                        </div>
                    </div>
            );
        }
    });
    var MyPrizeComponent = React.createClass({
        render : function(){
            return (
                    <div className="myprize">
                        <h3>我的奖品</h3>
                        <div className="clearfix">
                            <dl className="fl">
                                <dt>奖品</dt>
                                <dd>5游戏币</dd>
                                <dd>10盒币</dd>
                                <dd>豆娃抱枕</dd>
                                <dd className="code">火线精英复刻礼包码 <br/>
                                    shjhjhjhjsasasasaa</dd>
                            </dl>
                            <dl className="fr">
                                <dt>获得时间</dt>
                                <dd>活动结束后发放
                                </dd>
                                <dd>活动结束后发放
                                </dd>
                                <dd><a href="">收件地址</a></dd>
                                <dd className="code"><a href="">复制</a></dd>
                            </dl>
                        </div>
                    </div>
            );
        }
    });
    var TipsComponent = React.createClass({
        render : function(){
            return (
                    <div className="tips">
                        <p>您尚未获得抽奖机会
                            <br/>
                            入驻游戏可获得！</p>
                    </div>

            );
        }
    });
    var PopComponent = React.createClass({
        handleClose : function(){
            $('#j-popBox').remove();
        },
        render: function(){

            return (
                    <section className="m_pop" id="j-popBox">
                        <div className="filter"></div>
                        <div className="pop">
                            <i className="close j-close" onClick={this.handleClose}></i>
                            <GetSwComponent />
                        </div>
                    </section>
            );
        }
    });
    var PrizeVrbComponent = React.createClass({
        render : function(){
            return (
                    <div className="prize">
                        <h4>
                            恭喜您抽到 <i>50盒币</i>
                        </h4>
                        <p>活动结束后7个工作日发放。</p>
                        <a href="">确定</a>
                    </div>
            )
        }
    });
    var　SuccesComponent = React.createClass({
        render : function(){
            return (
                    <div className="success">
                        <h4>入驻成功!</h4>
                        <p>是否去下载游戏？</p>
                        <a href="btn">去下载游戏</a>
                    </div>
            );
        }
    });
    var lottery = {
        init : function(){ /* 初始化*/
            this.elem();
            this.bindClick();
        },
        elem : function(){
            this.$li = $('#j-lottery').find('li');
            this.$btn = $('#j-lotteryBtn');
        },
        run : function(){  /* 跑起来 */
            var timer = null;
            var This = this;
            var i = 0;
            var num = 1;
            var length = this.$li.length;

            timer = setInterval(function(){
                i = i > length - 1 ? 0 : i;
                This.$li.removeClass('active');
                This.$li.eq(i).addClass('active');

                if(num > length * 2){  /* 走两圈之后去判断 */
                    if(i == 4){
                        clearInterval(timer);
                        This.popRender();
                    }
                };
                num++;
                i++;
            },300);
        },
        bindClick : function(){
            var This = this;
            this.$btn.on('click',function(){
                This.run();
            });
        },
        popRender : function(){
            ReactDOM.render(
                    <PopComponent/>,
                    document.getElementById('j-pop')
            );
        }
    }
    lottery.init();


</script>
